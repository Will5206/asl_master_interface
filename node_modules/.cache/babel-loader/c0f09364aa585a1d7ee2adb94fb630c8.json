{"remainingRequest":"/Users/will5206/Desktop/master_interface/node_modules/babel-loader/lib/index.js!/Users/will5206/Desktop/master_interface/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/will5206/Desktop/master_interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/will5206/Desktop/master_interface/src/components/VideoControls.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/will5206/Desktop/master_interface/src/components/VideoControls.vue","mtime":1708123908825},{"path":"/Users/will5206/Desktop/master_interface/node_modules/cache-loader/dist/cjs.js","mtime":1704319707089},{"path":"/Users/will5206/Desktop/master_interface/node_modules/babel-loader/lib/index.js","mtime":1704319707261},{"path":"/Users/will5206/Desktop/master_interface/node_modules/cache-loader/dist/cjs.js","mtime":1704319707089},{"path":"/Users/will5206/Desktop/master_interface/node_modules/vue-loader/lib/index.js","mtime":1704319707297}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJWaWRlb0NvbnRyb2xzIiwKICBwcm9wczogewogICAgcGxheWluZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHBsYXlpbmdTZWxlY3Rpb246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBjdXJyZW50VGltZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBkdXJhdGlvbjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyAuLi4gb3RoZXIgZXhpc3RpbmcgZGF0YSBwcm9wZXJ0aWVzIC4uLgogICAgICByZWNvcmRpbmc6IGZhbHNlLAogICAgICBtZWRpYVJlY29yZGVyOiBudWxsLAogICAgICByZWNvcmRlZENodW5rczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZ2VuZXJhbFBsYXlDbGFzczogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMucGxheWluZykgewogICAgICAgIGlmICh0aGlzLmN1cnJlbnRUaW1lID09IHRoaXMuZHVyYXRpb24pIHsKICAgICAgICAgIHJldHVybiAicmVzZXQiOwogICAgICAgIH0KICAgICAgICByZXR1cm4gInBsYXkiOwogICAgICB9CiAgICAgIHJldHVybiAicGF1c2UiOwogICAgfSwKICAgIGZvcm1hdHRlZFRpbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgbGV0IHQgPSBuZXcgRGF0ZSgwKTsKICAgICAgdC5zZXRTZWNvbmRzKHRoaXMuY3VycmVudFRpbWUpOwogICAgICBsZXQgcyA9IHQudG9JU09TdHJpbmcoKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBob3Vyczogcy5zdWJzdHIoMTEsIDIpLAogICAgICAgIG1pbnV0ZXM6IHMuc3Vic3RyKDE0LCAyKSwKICAgICAgICBzZWNvbmRzOiBzLnN1YnN0cigxNywgMiksCiAgICAgICAgZGVjaXNlY29uZHM6ICh0aGlzLmN1cnJlbnRUaW1lICUgMSkudG9GaXhlZCgyKS5zdWJzdHJpbmcoMiwgMykKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHRvZ2dsZVJlY29yZGluZygpIHsKICAgICAgaWYgKHRoaXMucmVjb3JkaW5nKSB7CiAgICAgICAgdGhpcy5zdG9wUmVjb3JkaW5nKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXdhaXQgdGhpcy5zdGFydFJlY29yZGluZygpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgc3RhcnRSZWNvcmRpbmcoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoewogICAgICAgICAgdmlkZW86IHRydWUKICAgICAgICB9KTsKICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pOwogICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSBldmVudCA9PiB7CiAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5zaXplID4gMCkgewogICAgICAgICAgICB0aGlzLnJlY29yZGVkQ2h1bmtzLnB1c2goZXZlbnQuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQoKTsKICAgICAgICB0aGlzLnJlY29yZGluZyA9IHRydWU7CgogICAgICAgIC8vIEF0dGFjaCB0aGUgc3RyZWFtIHRvIHRoZSB2aWRlbyBlbGVtZW50CiAgICAgICAgdGhpcy4kcmVmcy5saXZlVmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtOwogICAgICAgIHRoaXMuJHJlZnMubGl2ZVZpZGVvLnBsYXkoKTsgLy8gVGhpcyBtaWdodCBiZSByZWR1bmRhbnQgZHVlIHRvIGF1dG9wbGF5CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFjY2Vzc2luZyBjYW1lcmE6IiwgZXJyKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGhhbmRsZUZpbGVVcGxvYWQoZXZlbnQpIHsKICAgICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgaWYgKGZpbGUgJiYgZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpKSB7CiAgICAgICAgLy8gQ3JlYXRlIGEgVVJMIGZvciB0aGUgdmlkZW8gZmlsZQogICAgICAgIGNvbnN0IHZpZGVvVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKICAgICAgICAvLyBFbWl0IGFuIGV2ZW50IHdpdGggdGhlIHZpZGVvIFVSTAogICAgICAgIHRoaXMuJGVtaXQoJ3ZpZGVvLXVwbG9hZGVkJywgdmlkZW9VcmwpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsZWFzZSB1cGxvYWQgYSB2YWxpZCB2aWRlbyBmaWxlLicpOwogICAgICB9CiAgICB9LAogICAgc3RvcFJlY29yZGluZygpIHsKICAgICAgaWYgKHRoaXMubWVkaWFSZWNvcmRlcikgewogICAgICAgIHRoaXMubWVkaWFSZWNvcmRlci5zdG9wKCk7CiAgICAgICAgdGhpcy5tZWRpYVJlY29yZGVyLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7IC8vIFN0b3AgdGhlIGNhbWVyYSBzdHJlYW0KICAgICAgICB0aGlzLm1lZGlhUmVjb3JkZXIgPSBudWxsOwogICAgICAgIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVSZWNvcmRlZERhdGEoKSB7CiAgICAgIC8vIGNvbnN0IHJlY29yZGVkQmxvYiA9IG5ldyBCbG9iKHRoaXMucmVjb3JkZWRDaHVua3MsIHt0eXBlOiAidmlkZW8vd2VibSIsIH0pOwogICAgICB0aGlzLnJlY29yZGVkQ2h1bmtzID0gW107CiAgICAgIC8vIEhhbmRsZSB0aGUgcmVjb3JkZWQgdmlkZW8gYmxvYiAoZS5nLiwgcHJldmlldywgdXBsb2FkLCBldGMuKQogICAgfSwKICAgIHVwbG9hZFZpZGVvKCkgewogICAgICB0aGlzLiRlbWl0KCJ1cGxvYWQtdmlkZW8iKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["name","props","playing","type","Boolean","default","playingSelection","currentTime","Number","duration","data","recording","mediaRecorder","recordedChunks","computed","generalPlayClass","formattedTime","t","Date","setSeconds","s","toISOString","hours","substr","minutes","seconds","deciseconds","toFixed","substring","methods","toggleRecording","stopRecording","startRecording","stream","navigator","mediaDevices","getUserMedia","video","MediaRecorder","ondataavailable","event","size","push","start","$refs","liveVideo","srcObject","play","err","console","error","handleFileUpload","file","target","files","startsWith","videoUrl","URL","createObjectURL","$emit","stop","getTracks","forEach","track","handleRecordedData","uploadVideo"],"sources":["src/components/VideoControls.vue"],"sourcesContent":["<template>\n  <div id=\"video-controls\">\n    <button id=\"general-play\" @click=\"$emit('general-play')\" class=\"button icon-bg\" :class=\"generalPlayClass\">&nbsp;</button>\n    <button id=\"selection-play\" @click=\"$emit('selection-play')\" class=\"button\" :class=\"{ pause: playingSelection, play: !playingSelection }\">Play selection</button>\n    <button @click=\"uploadVideo\" class=\"button upload-button\">\n      <svg fill=\"currentColor\" height=\"24px\" width=\"24px\" viewBox=\"0 0 330 330\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394 l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393 C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z\"/>\n      </svg>\n      Upload Video\n    </button>\n    <button @click=\"toggleRecording\" class=\"button record-button\">{{ recording ? \"Stop Recording\" : \"Start Recording\" }}</button>\n    <p id=\"elapsed-time\">\n      <span class=\"hours\" :class=\"{ 'less-than-an-hour': duration < 3600 }\">{{ formattedTime.hours }}</span>:<span class=\"minutes\" :class=\"{ 'less-than-a-minute': duration < 60 }\">{{ formattedTime.minutes }}</span>:<span class=\"seconds\">{{ formattedTime.seconds }}</span>.<span class=\"deciseconds\">{{ formattedTime.deciseconds }}</span>\n    </p>\n  </div>\n</template>\n\n\n\n\n<script>\nexport default {\n  name: \"VideoControls\",\n  props: {\n    playing: {\n      type: Boolean,\n      default: false,\n    },\n    playingSelection: {\n      type: Boolean,\n      default: false,\n    },\n    currentTime: {\n      type: Number,\n      default: 0,\n    },\n    duration: {\n      type: Number,\n      default: 0,\n    },\n  },\n\n  data() {\n    return {\n      // ... other existing data properties ...\n      recording: false,\n      mediaRecorder: null,\n      recordedChunks: [],\n    };\n  },\n  computed: {\n    generalPlayClass: function () {\n      if (!this.playing) {\n        if (this.currentTime == this.duration) {\n          return \"reset\";\n        }\n        return \"play\";\n      }\n      return \"pause\";\n    },\n    formattedTime: function () {\n      let t = new Date(0);\n      t.setSeconds(this.currentTime);\n      let s = t.toISOString();\n      return {\n        hours: s.substr(11, 2),\n        minutes: s.substr(14, 2),\n        seconds: s.substr(17, 2),\n        deciseconds: (this.currentTime % 1).toFixed(2).substring(2, 3),\n      };\n    },\n  },\n  methods: {\n    async toggleRecording() {\n      \n      if (this.recording) {\n        this.stopRecording();\n      } else {\n        await this.startRecording();\n      }\n    },\n    async startRecording() {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n        this.mediaRecorder = new MediaRecorder(stream);\n        this.mediaRecorder.ondataavailable = (event) => {\n          if (event.data.size > 0) {\n            this.recordedChunks.push(event.data);\n          }\n        };\n\n        this.mediaRecorder.start();\n        this.recording = true;\n\n        // Attach the stream to the video element\n        this.$refs.liveVideo.srcObject = stream;\n        this.$refs.liveVideo.play(); // This might be redundant due to autoplay\n      } catch (err) {\n        console.error(\"Error accessing camera:\", err);\n      }\n    },\n    async handleFileUpload(event) {\n      const file = event.target.files[0];\n      if (file && file.type.startsWith('video/')) {\n        // Create a URL for the video file\n        const videoUrl = URL.createObjectURL(file);\n        // Emit an event with the video URL\n        this.$emit('video-uploaded', videoUrl);\n      } else {\n        console.error('Please upload a valid video file.');\n      }\n    },\n\n    stopRecording() {\n      if (this.mediaRecorder) {\n        this.mediaRecorder.stop();\n        this.mediaRecorder.stream.getTracks().forEach(track => track.stop()); // Stop the camera stream\n        this.mediaRecorder = null;\n        this.recording = false;\n      }\n    },\n\n    handleRecordedData() {\n      // const recordedBlob = new Blob(this.recordedChunks, {type: \"video/webm\", });\n      this.recordedChunks = [];\n      // Handle the recorded video blob (e.g., preview, upload, etc.)\n    },\n    uploadVideo() {\n      this.$emit(\"upload-video\");\n    },\n  },\n};\n</script>\n\n\n\n\n\n\n\n\n\n\n\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/styles/_variables.scss\"; // Ensure this import path is correct\n@import \"@/assets/styles/_mixins.scss\";\n\n#video-controls {\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  padding: 0 12px;\n\n}\n\n#elapsed-time {\n  @include fs(1);\n  text-align: right;\n  color: white;\n  span {\n    width: auto;\n    display: inline-block;\n    text-align: center;\n    &.colon, &.period { display: inline; }\n    &.deciseconds, &.less-than-an-hour, &.less-than-a-minute { color: #666; }\n  }\n}\n\n.button {\n  padding: 10px 15px;\n\n  margin-right: 8px;\n  background-color: #333;\n  color: white;\n  border-width: 1px;\n  border-color: yellow;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n  transition: background-color 0.2s ease;\n  &:hover {\n    background-color: darken(#333, 10%);\n    background-color: $accent;\n      border-color: $accent;\n      color: #333;\n  }\n  \n  \n  svg {\n    fill: currentColor;\n  }\n}\n\n.icon-bg {\n  background-size: 16px 16px;\n  background-position: center;\n}\n\n.upload-button svg, .record-button svg {\n  margin-right: 5px;\n}\n\nbutton {\n  border: none;\n  padding: 0.25rem 1rem;\n  border-radius: 0.25rem;\n  border: 1px solid transparent;\n  color: white;\n  cursor: pointer;\n  user-select: none;\n  &#general-play {\n    background-color: #666;\n    padding-left: 2.25rem;\n    padding-right: 2.25rem;\n    &.play {\n      background-image: url(play-icon());\n      &:hover {\n        background-image: url(play-icon(#666));\n        border-color: white;\n      }\n    }\n    &.pause {\n      background-image: url(pause-icon());\n      &:hover {\n        background-image: url(pause-icon(#666));\n      }\n    }\n    &.reset {\n      background-image: url(reset-icon());\n      &:hover {\n        background-image: url(reset-icon(#666));\n      }\n    }\n    &:hover {\n      background-color: #fff;\n      color: #333;\n    }\n  }\n  &#selection-play {\n    &:hover {\n      background-color: $accent;\n      border-color: $accent;\n      color: #333;\n    }\n  }\n\n\n}\n\n.upload-button {\n\n  svg {\n    height: 24px;\n    width: 18px;\n  }\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 5px; // Space between icon and text\n\n  // Explicitly control the width and remove extra space\n  width: fit-content;\n  min-width: 0;\n\n  // Remove any extra space around the content\n  white-space: nowrap;\n  \n}\n.icon-bg {\n  background-repeat: no-repeat;\n  background-size: 1rem;\n  background-position-y: center;\n  background-position-x: center;\n}\n</style>\n"],"mappings":"AAqBA;EACAA,IAAA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,gBAAA;MACAH,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAE,WAAA;MACAJ,IAAA,EAAAK,MAAA;MACAH,OAAA;IACA;IACAI,QAAA;MACAN,IAAA,EAAAK,MAAA;MACAH,OAAA;IACA;EACA;EAEAK,KAAA;IACA;MACA;MACAC,SAAA;MACAC,aAAA;MACAC,cAAA;IACA;EACA;EACAC,QAAA;IACAC,gBAAA,WAAAA,CAAA;MACA,UAAAb,OAAA;QACA,SAAAK,WAAA,SAAAE,QAAA;UACA;QACA;QACA;MACA;MACA;IACA;IACAO,aAAA,WAAAA,CAAA;MACA,IAAAC,CAAA,OAAAC,IAAA;MACAD,CAAA,CAAAE,UAAA,MAAAZ,WAAA;MACA,IAAAa,CAAA,GAAAH,CAAA,CAAAI,WAAA;MACA;QACAC,KAAA,EAAAF,CAAA,CAAAG,MAAA;QACAC,OAAA,EAAAJ,CAAA,CAAAG,MAAA;QACAE,OAAA,EAAAL,CAAA,CAAAG,MAAA;QACAG,WAAA,QAAAnB,WAAA,MAAAoB,OAAA,IAAAC,SAAA;MACA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,gBAAA;MAEA,SAAAnB,SAAA;QACA,KAAAoB,aAAA;MACA;QACA,WAAAC,cAAA;MACA;IACA;IACA,MAAAA,eAAA;MACA;QACA,MAAAC,MAAA,SAAAC,SAAA,CAAAC,YAAA,CAAAC,YAAA;UAAAC,KAAA;QAAA;QACA,KAAAzB,aAAA,OAAA0B,aAAA,CAAAL,MAAA;QACA,KAAArB,aAAA,CAAA2B,eAAA,GAAAC,KAAA;UACA,IAAAA,KAAA,CAAA9B,IAAA,CAAA+B,IAAA;YACA,KAAA5B,cAAA,CAAA6B,IAAA,CAAAF,KAAA,CAAA9B,IAAA;UACA;QACA;QAEA,KAAAE,aAAA,CAAA+B,KAAA;QACA,KAAAhC,SAAA;;QAEA;QACA,KAAAiC,KAAA,CAAAC,SAAA,CAAAC,SAAA,GAAAb,MAAA;QACA,KAAAW,KAAA,CAAAC,SAAA,CAAAE,IAAA;MACA,SAAAC,GAAA;QACAC,OAAA,CAAAC,KAAA,4BAAAF,GAAA;MACA;IACA;IACA,MAAAG,iBAAAX,KAAA;MACA,MAAAY,IAAA,GAAAZ,KAAA,CAAAa,MAAA,CAAAC,KAAA;MACA,IAAAF,IAAA,IAAAA,IAAA,CAAAjD,IAAA,CAAAoD,UAAA;QACA;QACA,MAAAC,QAAA,GAAAC,GAAA,CAAAC,eAAA,CAAAN,IAAA;QACA;QACA,KAAAO,KAAA,mBAAAH,QAAA;MACA;QACAP,OAAA,CAAAC,KAAA;MACA;IACA;IAEAnB,cAAA;MACA,SAAAnB,aAAA;QACA,KAAAA,aAAA,CAAAgD,IAAA;QACA,KAAAhD,aAAA,CAAAqB,MAAA,CAAA4B,SAAA,GAAAC,OAAA,CAAAC,KAAA,IAAAA,KAAA,CAAAH,IAAA;QACA,KAAAhD,aAAA;QACA,KAAAD,SAAA;MACA;IACA;IAEAqD,mBAAA;MACA;MACA,KAAAnD,cAAA;MACA;IACA;IACAoD,YAAA;MACA,KAAAN,KAAA;IACA;EACA;AACA"}]}